(()=>{var e={};e.id=360,e.ids=[360,888,660],e.modules={5173:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>f,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>P,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>b});var s=r(7093),a=r(5244),o=r(1323),i=r(2899),l=r.n(i),c=r(6814),u=r(6554),d=e([c,u]);[c,u]=d.then?(await d)():d;let f=(0,o.l)(u,"default"),p=(0,o.l)(u,"getStaticProps"),x=(0,o.l)(u,"getStaticPaths"),h=(0,o.l)(u,"getServerSideProps"),m=(0,o.l)(u,"config"),g=(0,o.l)(u,"reportWebVitals"),b=(0,o.l)(u,"unstable_getStaticProps"),v=(0,o.l)(u,"unstable_getStaticPaths"),_=(0,o.l)(u,"unstable_getStaticParams"),y=(0,o.l)(u,"unstable_getServerProps"),S=(0,o.l)(u,"unstable_getServerSideProps"),P=new s.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/product/[id]",pathname:"/product/[id]",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:u});n()}catch(e){n(e)}})},6691:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_FAST_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return a},ACTION_PREFETCH:function(){return l},ACTION_REFRESH:function(){return s},ACTION_RESTORE:function(){return o},ACTION_SERVER_ACTION:function(){return u},ACTION_SERVER_PATCH:function(){return i},PrefetchCacheEntryStatus:function(){return n},PrefetchKind:function(){return r},isThenable:function(){return d}});let s="refresh",a="navigate",o="restore",i="server-patch",l="prefetch",c="fast-refresh",u="server-action";function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"})(r||(r={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4318:(e,t,r)=>{"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(8364),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return b}});let n=r(5577),s=r(997),a=n._(r(6689)),o=r(1401),i=r(2045),l=r(7420),c=r(7201),u=r(1443),d=r(5469),f=r(7443),p=r(2905),x=r(4318),h=r(953),m=r(6691);function g(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let b=a.default.forwardRef(function(e,t){let r,n;let{href:l,as:b,children:v,prefetch:_=null,passHref:y,replace:S,shallow:P,scroll:j,locale:E,onClick:N,onMouseEnter:A,onTouchStart:C,legacyBehavior:O=!1,...T}=e;r=v,O&&("string"==typeof r||"number"==typeof r)&&(r=(0,s.jsx)("a",{children:r}));let U=a.default.useContext(d.RouterContext),k=a.default.useContext(f.AppRouterContext),R=null!=U?U:k,w=!U,L=!1!==_,I=null===_?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:B,as:M}=a.default.useMemo(()=>{if(!U){let e=g(l);return{href:e,as:b?g(b):e}}let[e,t]=(0,o.resolveHref)(U,l,!0);return{href:e,as:b?(0,o.resolveHref)(U,b):t||e}},[U,l,b]),q=a.default.useRef(B),F=a.default.useRef(M);O&&(n=a.default.Children.only(r));let K=O?n&&"object"==typeof n&&n.ref:t,[X,H,Y]=(0,p.useIntersection)({rootMargin:"200px"}),D=a.default.useCallback(e=>{(F.current!==M||q.current!==B)&&(Y(),F.current=M,q.current=B),X(e),K&&("function"==typeof K?K(e):"object"==typeof K&&(K.current=e))},[M,K,B,Y,X]);a.default.useEffect(()=>{},[M,B,H,E,L,null==U?void 0:U.locale,R,w,I]);let V={ref:D,onClick(e){O||"function"!=typeof N||N(e),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),R&&!e.defaultPrevented&&function(e,t,r,n,s,o,l,c,u){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,i.isLocalURL)(r)))return;e.preventDefault();let f=()=>{let e=null==l||l;"beforePopState"in t?t[s?"replace":"push"](r,n,{shallow:o,locale:c,scroll:e}):t[s?"replace":"push"](n||r,{scroll:e})};u?a.default.startTransition(f):f()}(e,R,B,M,S,P,j,E,w)},onMouseEnter(e){O||"function"!=typeof A||A(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e)},onTouchStart:function(e){O||"function"!=typeof C||C(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e)}};if((0,c.isAbsoluteUrl)(M))V.href=M;else if(!O||y||"a"===n.type&&!("href"in n.props)){let e=void 0!==E?E:null==U?void 0:U.locale,t=(null==U?void 0:U.isLocaleDomain)&&(0,x.getDomainLocale)(M,e,null==U?void 0:U.locales,null==U?void 0:U.domainLocales);V.href=t||(0,h.addBasePath)((0,u.addLocale)(M,e,null==U?void 0:U.defaultLocale))}return O?a.default.cloneElement(n,V):(0,s.jsx)("a",{...T,...V,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let n=r(6689),s=r(3815),a="function"==typeof IntersectionObserver,o=new Map,i=[];function l(e){let{rootRef:t,rootMargin:r,disabled:l}=e,c=l||!a,[u,d]=(0,n.useState)(!1),f=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{f.current=e},[]);return(0,n.useEffect)(()=>{if(a){if(c||u)return;let e=f.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:s,elements:a}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=i.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=o.get(n)))return t;let s=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:s},i.push(r),o.set(r,t),t}(r);return a.set(e,t),s.observe(e),function(){if(a.delete(e),s.unobserve(e),0===a.size){s.disconnect(),o.delete(n);let e=i.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&i.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!u){let e=(0,s.requestIdleCallback)(()=>d(!0));return()=>(0,s.cancelIdleCallback)(e)}},[c,r,t,u,f.current]),[p,u,(0,n.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6554:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>h,getStaticPaths:()=>g,getStaticProps:()=>b});var s=r(997),a=r(968),o=r.n(a),i=r(5675),l=r.n(i),c=r(1664),u=r.n(c),d=r(5941),f=r(1163),p=r(2885),x=e([d]);d=(x.then?(await x)():x)[0];let m=async e=>{let t=process.env.NEXT_PUBLIC_SUPABASE_URL||process.env.NEXT_SUPABASE_URL,r=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||process.env.NEXT_SUPABASE_PUBLISHABLE_KEY;if(!t||!r)throw Error("Supabase environment variables are not set.");let n=(0,p.createClient)(t,r),{data:s,error:a}=await n.from("products").select("*").eq("id",e).single();if(a)throw a;return s};function h({product:e,id:t}){let r=(0,f.useRouter)(),{data:n,error:a}=(0,d.default)(e?null:t,m,{fallbackData:e,revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:6e4}),i=n||e;return r.isFallback?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):a||!i?(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),s.jsx(u(),{href:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsxs)("title",{children:[i.name," - Swift Spark Store"]}),s.jsx("meta",{name:"description",content:i.short_description||i.description}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),s.jsx("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(u(),{href:"/",className:"text-blue-600 hover:underline mb-6 inline-block",children:"← Back to Products"}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[s.jsx("div",{className:"aspect-square relative",children:s.jsx(l(),{src:i.images?.[0]||i.amazon_image_url||"/placeholder.jpg",alt:i.name,fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover rounded-lg",priority:!0})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:i.name}),i.badge&&s.jsx("span",{className:"inline-block bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:i.badge})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-3xl font-bold text-green-600",children:["$",i.price]}),i.original_price>i.price&&(0,s.jsxs)("span",{className:"text-xl text-gray-500 line-through",children:["$",i.original_price]}),i.discount_percentage>0&&(0,s.jsxs)("span",{className:"bg-green-100 text-green-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:[i.discount_percentage,"% OFF"]})]}),s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:i.short_description||i.description})}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("a",{href:i.affiliate_link||i.amazon_affiliate_link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200 text-center block",children:"View Product"}),i.category&&(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Category: ",s.jsx("span",{className:"font-medium",children:i.category})]})]})]})]})})]})})]})}let g=async()=>{let e=process.env.NEXT_PUBLIC_SUPABASE_URL||process.env.NEXT_SUPABASE_URL,t=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||process.env.NEXT_SUPABASE_PUBLISHABLE_KEY;if(!e||!t)return console.error("Supabase environment variables are not set for getStaticPaths."),{paths:[],fallback:"blocking"};let r=(0,p.createClient)(e,t);try{let{data:e,error:t}=await r.from("products").select("id").limit(100);if(t)return console.error("Error fetching products for static paths:",t),{paths:[],fallback:"blocking"};return{paths:e?.map(e=>({params:{id:e.id}}))||[],fallback:"blocking"}}catch(e){return console.error("Error in getStaticPaths:",e),{paths:[],fallback:"blocking"}}},b=async({params:e})=>{let t=e?.id;if(!t)return{notFound:!0};let r=process.env.NEXT_PUBLIC_SUPABASE_URL||process.env.NEXT_SUPABASE_URL,n=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||process.env.NEXT_SUPABASE_PUBLISHABLE_KEY;if(!r||!n)return console.error("Supabase environment variables are not set for getStaticProps."),{props:{product:null,id:t},revalidate:60};let s=(0,p.createClient)(r,n);try{let{data:e,error:r}=await s.from("products").select("*").eq("id",t).single();if(r||!e)return{notFound:!0,revalidate:60};return{props:{product:e,id:t},revalidate:60}}catch(e){return console.error("Error in getStaticProps:",e),{notFound:!0,revalidate:60}}};n()}catch(e){n(e)}})},7443:(e,t,r)=>{"use strict";e.exports=r(7093).vendored.contexts.AppRouterContext},1664:(e,t,r)=>{e.exports=r(9577)},2885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},1162:e=>{"use strict";e.exports=require("next-themes")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},5458:e=>{"use strict";e.exports=import("@radix-ui/react-avatar")},7715:e=>{"use strict";e.exports=import("@radix-ui/react-dialog")},49:e=>{"use strict";e.exports=import("@radix-ui/react-label")},2994:e=>{"use strict";e.exports=import("@radix-ui/react-separator")},4338:e=>{"use strict";e.exports=import("@radix-ui/react-slot")},6860:e=>{"use strict";e.exports=import("@radix-ui/react-tabs")},1329:e=>{"use strict";e.exports=import("@radix-ui/react-toast")},6926:e=>{"use strict";e.exports=import("class-variance-authority")},6593:e=>{"use strict";e.exports=import("clsx")},5941:e=>{"use strict";e.exports=import("swr")},8097:e=>{"use strict";e.exports=import("tailwind-merge")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[429,304,899,165,814],()=>r(5173));module.exports=n})();